<!-- <div class="question-display" *ngIf="reponse">
    <h3>{{ reponse.question.enonce }}</h3>
  
    <div *ngIf="reponse.question.type === 'QCM'">
      <ul>
        <li *ngFor="let option of reponse.question.answerOptions" 
            [ngClass]="getOptionClass(option)">
          {{ option.text }}
        </li>
      </ul>
    </div>
  
    <div *ngIf="reponse.reponseLibre">
      <p><strong>RÃ©ponse libre :</strong> {{ reponse.reponseLibre }}</p>
    </div>
  
    <div *ngIf="reponse.explication || reponse.feedback">
      <p><strong>Explication :</strong> {{ reponse.explication }}</p>
      <p><strong>Feedback :</strong> {{ reponse.feedback }}</p>
    </div>
  </div>
   -->
<div class="question-display" *ngIf="reponse">
  <!-- <div class="question-number">
    Question {{ currentQuestionIndex + 1 }} 
  </div>
{{reponse.question.enonce}}
  <div class="question-level">
    Niveau : {{ reponse.question.niveau || 'Non dÃ©fini' }}
  </div> -->
<div class="question-header">
  <div class="question-title">
     Question {{ currentQuestionIndex + 1 }} : {{reponse.question.enonce}}

  </div>
  <div class="question-badge">
    Niveau : {{ reponse.question.niveau || 'Non dÃ©fini' }}
  </div>
</div>

  <!-- <li *ngFor="let option of reponse.question.answerOptions" [ngClass]="getOptionClass(option)">
    {{ option.text }}
  </li> -->
 <ul>
    <li *ngFor="let option of reponse.question.answerOptions">
      {{ option.text }}
      <!-- Affichage de l'icÃ´ne pour l'option sÃ©lectionnÃ©e -->
      <i *ngIf="isOptionSelected(option)" class="answer-icon" [ngClass]="{'correct': option.isCorrect, 'incorrect': !option.isCorrect}">
        <ng-container *ngIf="option.isCorrect">âœ”ï¸</ng-container>
        <ng-container *ngIf="!option.isCorrect">âŒ</ng-container>
      </i>

      <!-- Affichage de l'icÃ´ne de la rÃ©ponse correcte si la rÃ©ponse est incorrecte -->
      <i *ngIf="option.isCorrect &&  !reponse.isCorrect " class="answer-icon correct-answer">
        âœ”ï¸ 
      </i>
    </li>
  </ul>
  
<!-- <div *ngIf="reponse.reponseLibre">
  <p><strong>Votre RÃ©ponse :</strong> 
    <span [ngClass]="{'correct-answer': reponse.isCorrect, 'incorrect-answer': !reponse.isCorrect}">
      {{ reponse.reponseLibre }}
    </span>
    <span *ngIf="reponse.isCorrect; else incorrectAnswer"> âœ”ï¸</span>
    <ng-template #incorrectAnswer>
       âŒ
    </ng-template>
  </p>
</div>

<div *ngIf="reponse.explication || reponse.feedback">
  <p><strong>Explication :</strong> {{ reponse.explication }}</p>
  <p><strong>Feedback :</strong> {{ reponse.feedback }}</p>
    <div *ngIf="!reponse.isCorrect">
    <p><strong>RÃ©ponse correcte :</strong> {{ reponse.reponseCorrecte }}</p>
  </div>
</div> -->
<div class="response-summary" *ngIf="reponse.reponseLibre">
  <p>
    <strong>
       Votre rÃ©ponse est 
      <span [ngClass]="{'correct-answer': reponse.isCorrect, 'incorrect-answer': !reponse.isCorrect}">
        {{ reponse.isCorrect ? 'correcte' : 'incorrecte' }}
      </span> :
    </strong>
  </p>
  <p class="user-response">
    Â« {{ reponse.reponseLibre }} Â»
    <span *ngIf="reponse.isCorrect; else incorrectIcon"> âœ”ï¸</span>
    <ng-template #incorrectIcon> âŒ</ng-template>
  </p>
</div>

<div class="response-details" *ngIf="reponse.explication || reponse.feedback">
  <p class="ia-mention"><strong> Explication et feedback gÃ©nÃ©rÃ©s par l'IA</strong></p>

  <div class="correct-answer-block" *ngIf="!reponse.isCorrect && reponse.reponseCorrecte">
    <p><strong>âœ…  La bonne rÃ©ponse Ã©tait :</strong> {{ reponse.reponseCorrecte }}</p>
  </div>

  <div *ngIf="reponse.explication">
    <p><strong> ğŸ”¹ Explication AI :</strong> {{ reponse.explication }}</p>
  </div>

  <div *ngIf="reponse.feedback">
    <p><strong>ğŸ”¹ Feedback AI:</strong> {{ reponse.feedback }}</p>
  </div>
</div>

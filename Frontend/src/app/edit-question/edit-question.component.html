<div class="container"> 
    <h2>Modifier une Question</h2>
    <form [formGroup]="questionForm" (ngSubmit)="submitQuestion()">
      <label>√ânonc√© :</label>
      <input type="text" formControlName="enonce" required />
  
      <label>Type de question :</label>
      <select formControlName="type">
        <option value="QCM">QCM</option>
        <option value="Code">Code</option>
        <option value="Text">Texte libre</option>
      </select>
  
      <label>Niveau :</label>
      <select formControlName="niveau">
        <option value="FACILE">Facile</option>
        <option value="MOYEN">Moyen</option>
        <option value="DIFFICILE">Difficile</option>
      </select>
  
      <div *ngIf="isQCM">
        <h3>Options de r√©ponse :</h3>
        <div formArrayName="answerOptions">
          <div *ngFor="let option of answerOptions.controls; let i = index" [formGroupName]="i">
            <input type="text" formControlName="text" placeholder="R√©ponse" required />
            <input type="checkbox" formControlName="isCorrect" class="checkbox"/> Correcte ?
            <button type="button" (click)="removeAnswerOption(i)" *ngIf="answerOptions.length > 1">üóë</button>
          </div>
        </div>
        <button type="button" (click)="addAnswerOption()">‚ûï Ajouter une option</button>
      </div>
  
      <div *ngIf="isCode">
        <h3>R√©ponses en Code :</h3>
        <button type="button" (click)="addCodeAnswer()">‚ûï Ajouter une r√©ponse</button>
  
        <div formArrayName="codeAnswers">
          <div *ngFor="let codeAnswer of codeAnswers.controls; let i = index" [formGroupName]="i">
            <label>Code :</label>
            <ace-editor #editor formControlName="codeSnippet" 
            [options]="editorOptions" 
            style="height: 300px; width: 100%;">
            </ace-editor>
  
            <label>Langage :</label>
            <select formControlName="language">
              <option value="javascript">JavaScript</option>
              <option value="python">Python</option>
              <option value="java">Java</option>
              <option value="c">C</option>
              <option value="cpp">C++</option>
              <option value="php">PHP</option>
            </select>
  
            <button type="button" (click)="runCode(i)">‚ñ∂ Ex√©cuter</button>
            <button type="button" (click)="removeCodeAnswer(i)" *ngIf="codeAnswers.length > 1">üóë Supprimer</button>
            <pre class="output">R√©sultat : {{ executionResults[i] || "Aucun r√©sultat encore." }}</pre>
          </div>
        </div>
      </div>
  
      <button type="submit">‚úÖ Enregistrer</button>
      <button type="button" (click)="cancelEdit()">‚ùå Annuler</button>
    </form>
  </div>
